---
import AdminLayout from "../../layouts/AdminLayout.astro";
import TenantDashboard from "../../components/tenant/TenantDashboard";
---

<AdminLayout title="Mi Portal - Dashboard">
    <TenantDashboard client:only="react" />
</AdminLayout>

<script>
    import { supabase } from "../../lib/supabase";

    // Check Auth
    const checkUser = async () => {
        const {
            data: { session },
        } = await supabase.auth.getSession();

        if (!session) {
            window.location.href = "/tenant/login";
            return;
        }
    };

    checkUser();
</script>
